# 打包發布計畫 (Release Build Plan)

針對您提到的「檔案雜亂」與「預裝模組」需求，我建議採用 **資料夾式發布 (Folder Distribution)** 的方案，並透過自動化腳本來整理出一個乾淨的發布包。

## 方案比較
| 特性 | 單一 EXE 檔 | **資料夾式 (推薦)** |
| :--- | :--- | :--- |
| **外觀** | 只有一個檔案，看似簡潔 | 一個資料夾，內含 EXE 與設定檔 |
| **模組預裝** | 困難 (需將數 GB 檔案塞入 EXE) | **完美支援** (直接放入資料夾) |
| **更新維護** | 每次修改都需重新下載整個 EXE | **容易** (只需替換變更的檔案) |
| **啟動速度** | 慢 (需解壓縮到暫存區) | **快** (直接讀取硬碟檔案) |
| **適合場景** | 小型工具軟體 | **大型遊戲整合包 (Modpacks)** |

## 執行步驟

### 1. 程式碼修正 (JavaFX Fat JAR)
為了讓打包後的程式能穩定執行，我們需要做一點小修正：
- [ ] 新增 `LauncherMain.java`：作為程式入口，解決 JavaFX 在單一 JAR 執行時可能遇到的 "Runtime components missing" 問題。
- [ ] 修改 `pom.xml`：將打包入口指向新的 `LauncherMain`。

### 2. 建立自動打包腳本 (`build_release.ps1`)
我將為您撰寫一個 PowerShell 腳本，一鍵完成以下動作：
1.  **清理環境**：刪除舊的發布資料夾。
2.  **編譯程式**：執行 Maven 構建，產生最新的啟動器 JAR 檔。
3.  **產生執行檔**：使用 `jpackage` (JDK 內建工具) 產生一個原生的 Windows 程式資料夾，內含：
    - `MCL.exe` (乾淨的執行檔，有圖示)
    - `app/` (程式核心)
    - `runtime/` (內建微型 Java 環境，**玩家不需要自己安裝 Java**)
4.  **整合遊戲檔案**：自動將專案中的 `game` 資料夾 (含模組、設定) 複製進去。

### 3. 預期成果
執行腳本後，您的桌面上會出現一個 `MCL_Release` 資料夾，內容如下：
```text
MCL_Release/
├── MCL.exe          <-- 玩家只需要點這個
├── game/            <-- 您的預裝模組與設定 (玩家可直接修改)
├── runtime/         <-- 內建 Java (隱藏細節)
└── app/             <-- 啟動器核心
```
**您只需要將這個 `MCL_Release` 資料夾壓縮成 ZIP 給玩家即可。** 玩家解壓縮後，點擊 `MCL.exe` 就能直接玩，完全不用設定。

請問您是否同意執行此計畫？
